<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Twyla's Email Sorter</title>
    <style>
        /* Basic reset and body styles */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: #f2f2f7;
            color: #333;
            padding: 20px;
            max-width: 800px;
            margin: 0 auto;
        }
        
        /* Header styles */
        .header {
            text-align: center;
            margin-bottom: 20px;
            background-color: #007aff;
            color: white;
            padding: 20px;
            border-radius: 10px;
        }
        
        .header h1 {
            margin-bottom: 5px;
        }
        
        /* Controls section */
        .controls {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
            background-color: white;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        
        button {
            background-color: #007aff;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
        }
        
        button:hover {
            background-color: #0062cc;
        }
        
        .counter {
            font-weight: bold;
            display: flex;
            align-items: center;
        }
        
        /* Folder stats */
        .folder-stats {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .folder-stat {
            background-color: white;
            border-radius: 8px;
            padding: 10px;
            text-align: center;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        
        .folder-name {
            font-size: 12px;
            color: #8a8a8e;
            margin-bottom: 5px;
        }
        
        .folder-count {
            font-size: 18px;
            font-weight: bold;
        }
        
        /* Email styles */
        .email {
            background-color: white;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        
        .email-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }
        
        .email-from {
            font-weight: bold;
        }
        
        .email-time {
            color: #8a8a8e;
            font-size: 14px;
        }
        
        .email-subject {
            font-weight: bold;
            margin-bottom: 5px;
            font-size: 16px;
        }
        
        .email-excerpt {
            color: #636366;
            margin-bottom: 15px;
            font-size: 14px;
        }
        
        .email-actions {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 5px;
        }
        
        .action-btn {
            background-color: #f2f2f7;
            color: #007aff;
            border: none;
            padding: 8px;
            border-radius: 8px;
            font-weight: 500;
            font-size: 14px;
            cursor: pointer;
        }
        
        .action-btn:hover {
            background-color: #e5e5ea;
        }
        
        /* Success message */
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0,0,0,0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 999;
            display: none;
            flex-direction: column;
            padding: 20px;
            text-align: center;
        }
        
        .overlay h2 {
            color: white;
            margin-bottom: 20px;
            font-size: 28px;
        }
        
        .overlay p {
            color: white;
            margin-bottom: 30px;
            font-size: 20px;
        }
        
        .overlay button {
            background-color: white;
            color: #007aff;
            padding: 12px 24px;
            font-size: 16px;
        }
        
        /* Media queries for mobile */
        @media (max-width: 600px) {
            .folder-stats {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .email-actions {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <div class="header">
        <h1>Twyla's Email Sorter</h1>
        <p>Sort all emails to earn your break!</p>
    </div>
    
    <!-- Controls -->
    <div class="controls">
        <button id="new-emails-btn">Generate New Emails</button>
        <div class="counter">Sorted: <span id="sorted-count">0</span>/<span id="total-count">0</span></div>
    </div>
    
    <!-- Folder Stats -->
    <div class="folder-stats">
        <div class="folder-stat">
            <div class="folder-name">Work</div>
            <div class="folder-count" id="work-count">0</div>
        </div>
        <div class="folder-stat">
            <div class="folder-name">Updates</div>
            <div class="folder-count" id="updates-count">0</div>
        </div>
        <div class="folder-stat">
            <div class="folder-name">Promotions</div>
            <div class="folder-count" id="promotions-count">0</div>
        </div>
        <div class="folder-stat">
            <div class="folder-name">Trash</div>
            <div class="folder-count" id="trash-count">0</div>
        </div>
    </div>
    
    <!-- Email List -->
    <div id="email-list">
        <!-- Emails will be generated here -->
    </div>
    
    <!-- Success Overlay -->
    <div class="overlay" id="success-overlay">
        <h2>Congratulations, Twyla!</h2>
        <p>You are now allowed to rest. ðŸ˜Œ</p>
        <button id="restart-btn">Start Again</button>
    </div>

    <script>
        // Data for email generation
        const emailData = {
            senders: [
                { name: "Work Team", email: "team@company.com" },
                { name: "Project Manager", email: "pm@company.com" },
                { name: "HR Department", email: "hr@company.com" },
                { name: "Apple", email: "no-reply@apple.com" },
                { name: "iPhone Calendar", email: "calendar@apple.com" },
                { name: "App Store", email: "appstore@apple.com" },
                { name: "Amazon", email: "orders@amazon.com" },
                { name: "Netflix", email: "info@netflix.com" },
                { name: "Spotify", email: "news@spotify.com" },
                { name: "Bank of America", email: "alerts@bofa.com" }
            ],
            subjects: {
                work: [
                    "Team meeting notes",
                    "Quarterly review schedule",
                    "Project update required",
                    "New client onboarding",
                    "Please review: draft proposal"
                ],
                updates: [
                    "Your account has been updated",
                    "Security alert: new login",
                    "Your subscription renews soon",
                    "App update available",
                    "Payment confirmation"
                ],
                promotions: [
                    "50% off spring sale!",
                    "Limited time offer inside",
                    "You might like these items",
                    "Free shipping this weekend",
                    "Exclusive member discount"
                ]
            },
            excerpts: [
                "Just wanted to follow up on our previous conversation about...",
                "Please take a moment to review the attached document and provide feedback...",
                "This is a reminder that you have an upcoming deadline scheduled for...",
                "Thank you for your recent purchase. Your order has been confirmed and will be...",
                "We've noticed you haven't been using this feature lately. Here are some tips...",
                "Your account information was recently updated. If you didn't make this change...",
                "Based on your recent activity, we thought you might be interested in these...",
                "This is an automated message to let you know that your payment has been processed..."
            ]
        };

        // DOM elements
        const emailList = document.getElementById("email-list");
        const newEmailsBtn = document.getElementById("new-emails-btn");
        const restartBtn = document.getElementById("restart-btn");
        const sortedCountEl = document.getElementById("sorted-count");
        const totalCountEl = document.getElementById("total-count");
        const successOverlay = document.getElementById("success-overlay");
        const folderCountElements = {
            work: document.getElementById("work-count"),
            updates: document.getElementById("updates-count"),
            promotions: document.getElementById("promotions-count"),
            trash: document.getElementById("trash-count")
        };

        // State
        let emails = [];
        let sortedCount = 0;
        let totalCount = 0;
        let folderCounts = {
            work: 0,
            updates: 0,
            promotions: 0,
            trash: 0
        };

        // Helper function - get random item from array
        function getRandomItem(array) {
            return array[Math.floor(Math.random() * array.length)];
        }

        // Generate random emails
        function generateEmails() {
            // Reset state
            emails = [];
            sortedCount = 0;
            totalCount = 0;
            folderCounts = {
                work: 0,
                updates: 0,
                promotions: 0,
                trash: 0
            };
            
            // Update UI
            updateCounters();
            emailList.innerHTML = "";
            successOverlay.style.display = "none";
            
            // Generate 10-15 emails
            const emailCount = Math.floor(Math.random() * 6) + 10;
            totalCount = emailCount;
            totalCountEl.textContent = emailCount;
            
            for (let i = 0; i < emailCount; i++) {
                // Determine email type
                const emailTypes = ["work", "updates", "promotions"];
                const type = getRandomItem(emailTypes);
                
                // Create email data
                const sender = getRandomItem(emailData.senders);
                const subject = getRandomItem(emailData.subjects[type]);
                const excerpt = getRandomItem(emailData.excerpts);
                
                // Random time
                const hours = Math.floor(Math.random() * 24);
                const minutes = Math.floor(Math.random() * 60);
                const timeStr = hours === 0 
                    ? `${minutes}m ago` 
                    : hours < 24 
                        ? `${hours}h ${minutes}m ago` 
                        : `${Math.floor(hours/24)}d ago`;
                
                // Create email object
                const email = {
                    id: `email-${i}`,
                    sender: sender.name,
                    email: sender.email,
                    subject: subject,
                    excerpt: excerpt,
                    time: timeStr,
                    type: type
                };
                
                emails.push(email);
                
                // Create and add email element
                createEmailElement(email);
            }
        }

        // Create email element
        function createEmailElement(email) {
            const emailEl = document.createElement("div");
            emailEl.classList.add("email");
            emailEl.id = email.id;
            
            emailEl.innerHTML = `
                <div class="email-header">
                    <div class="email-from">${email.sender}</div>
                    <div class="email-time">${email.time}</div>
                </div>
                <div class="email-subject">${email.subject}</div>
                <div class="email-excerpt">${email.excerpt}</div>
                <div class="email-actions">
                    <button class="action-btn" onclick="sortEmail('${email.id}', 'work')">Work</button>
                    <button class="action-btn" onclick="sortEmail('${email.id}', 'updates')">Updates</button>
                    <button class="action-btn" onclick="sortEmail('${email.id}', 'promotions')">Promotions</button>
                    <button class="action-btn" onclick="sortEmail('${email.id}', 'trash')">Trash</button>
                </div>
            `;
            
            emailList.appendChild(emailEl);
        }

        // Sort email function
        function sortEmail(emailId, folder) {
            // Remove email from list
            const emailEl = document.getElementById(emailId);
            if (emailEl) {
                emailEl.remove();
                
                // Update counts
                folderCounts[folder]++;
                sortedCount++;
                
                // Update UI
                updateCounters();
                
                // Check if all emails are sorted
                if (sortedCount >= totalCount && totalCount > 0) {
                    showSuccessMessage();
                }
            }
        }

        // Update counters in UI
        function updateCounters() {
            sortedCountEl.textContent = sortedCount;
            
            for (const folder in folderCounts) {
                if (folderCountElements[folder]) {
                    folderCountElements[folder].textContent = folderCounts[folder];
                }
            }
        }

        // Show success message
        function showSuccessMessage() {
            successOverlay.style.display = "flex";
        }

        // Event listeners
        newEmailsBtn.addEventListener("click", generateEmails);
        restartBtn.addEventListener("click", generateEmails);

        // Initialize on page load
        window.onload = generateEmails;
    </script>
</body>
</html>